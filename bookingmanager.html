<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacation Rental Booking Manager Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/gr.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border-left: 1px solid #e2e8f0;
            border-top: 1px solid #e2e8f0;
        }
        
        .day-cell { 
            height: 100px; 
            transition: all 0.2s; 
            border-right: 1px solid #e2e8f0; 
            border-bottom: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        @media (min-width: 768px) {
            .day-cell { height: 120px; }
        }

        .day-cell:hover { background-color: #f8fafc; cursor: pointer; }
        
        .booked { background-color: #f0fdf4; }
        .booked::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background-color: #22c55e;
        }
        
        .today { 
            background-color: #eff6ff !important; 
            box-shadow: inset 0 0 0 2px #3b82f6;
            z-index: 10;
        }
        
        .check-in-today { border-left: 4px solid #3b82f6 !important; }
        .check-out-today { border-left: 4px solid #ef4444 !important; }
        
        @media print {
            .no-print { display: none !important; }
            body { background-color: white; padding: 0; margin: 0; }
            .max-w-7xl { max-width: 100%; width: 100%; margin: 0; padding: 0; }
            .print-only { display: block !important; }
            table { width: 100% !important; border-collapse: collapse !important; }
            th, td { border: 1px solid #ddd !important; padding: 12px !important; }
            .print-header { display: flex !important; justify-content: space-between; align-items: center; border-bottom: 2px solid #333; margin-bottom: 30px; padding-bottom: 10px; }
        }

        .print-only { display: none; }

        .modal-animate {
            animation: modalScale 0.2s ease-out;
        }
        @keyframes modalScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <div id="app" class="max-w-7xl mx-auto p-4 md:p-8">
        
        <div class="print-only print-header">
            <div>
                <h1 class="text-2xl font-bold">Booking Manager Pro</h1>
                <p class="text-sm">Î‘Î½Î±Ï†Î¿ÏÎ¬ ÎšÏÎ±Ï„Î®ÏƒÎµÏ‰Î½ & Î•ÏƒÏŒÎ´Ï‰Î½</p>
            </div>
            <div class="text-right text-sm">
                <p>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ·Ï‚: <span id="print-date"></span></p>
            </div>
        </div>

        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 no-print">
            <div>
                <h1 class="text-4xl font-extrabold text-slate-800 tracking-tight">Booking Manager <span class="text-blue-600">Pro</span></h1>
                <p class="text-slate-500 text-sm">ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ ÎºÎ±Ï„Î±Î»ÏÎ¼Î±Ï„Î¿Ï‚</p>
            </div>
            <div class="flex gap-3">
                <button onclick="window.print()" class="bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 px-5 py-2.5 rounded-xl font-semibold shadow-sm transition flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                    Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· / PDF
                </button>
                <button onclick="toggleModal(true)" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold shadow-md transition flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                    ÎÎ­Î± ÎšÏÎ¬Ï„Î·ÏƒÎ·
                </button>
            </div>
        </header>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 no-print">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-400 uppercase font-bold tracking-wider mb-2">Î£Ï…Î½Î¿Î»Î¹ÎºÎ¬ ÎˆÏƒÎ¿Î´Î±</p>
                <h3 id="stat-revenue" class="text-2xl font-bold text-slate-800">â‚¬0</h3>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-400 uppercase font-bold tracking-wider mb-2">ÎšÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚</p>
                <h3 id="stat-count" class="text-2xl font-bold text-slate-800">0</h3>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-400 uppercase font-bold tracking-wider mb-2">Î”Î¹Î±Î½Ï…ÎºÏ„ÎµÏÎµÏÏƒÎµÎ¹Ï‚</p>
                <h3 id="stat-nights" class="text-2xl font-bold text-slate-800">0</h3>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-400 uppercase font-bold tracking-wider mb-2">ÎœÎ­ÏƒÎ· Î¤Î¹Î¼Î® / ÎÏÏ‡Ï„Î±</p>
                <h3 id="stat-avg" class="text-2xl font-bold text-slate-800">â‚¬0</h3>
            </div>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-4 gap-8">
            <div class="xl:col-span-3 space-y-8 no-print">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="p-6 border-b border-slate-100 flex justify-between items-center">
                        <h2 id="current-month-display" class="text-xl font-bold text-slate-800 uppercase tracking-wide">...</h2>
                        <div class="flex gap-2">
                            <button onclick="changeMonth(-1)" class="p-2 hover:bg-slate-50 rounded-lg border border-slate-200 transition">â®</button>
                            <button onclick="currentDate = new Date(); renderApp();" class="px-4 py-2 hover:bg-slate-50 rounded-lg border border-slate-200 text-sm font-medium transition">Î£Î®Î¼ÎµÏÎ±</button>
                            <button onclick="changeMonth(1)" class="p-2 hover:bg-slate-50 rounded-lg border border-slate-200 transition">â¯</button>
                        </div>
                    </div>
                    <div id="calendar-body" class="calendar-grid bg-white"></div>
                </div>

                <!-- Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎšÏÎ±Ï„Î®ÏƒÎµÏ‰Î½ -->
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="p-6 border-b border-slate-100">
                        <h2 class="text-lg font-bold text-slate-800 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                            Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎšÏÎ±Ï„Î®ÏƒÎµÏ‰Î½
                        </h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-slate-50/50 border-b border-slate-100">
                                <tr>
                                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider">Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„Î·Ï‚ & Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</th>
                                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider">Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚</th>
                                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-center">Î†Ï„Î¿Î¼Î±</th>
                                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right">Î Î¿ÏƒÏŒ</th>
                                    <th class="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider text-right">Î•Î½Î­ÏÎ³ÎµÎ¹ÎµÏ‚</th>
                                </tr>
                            </thead>
                            <tbody id="management-table-body" class="divide-y divide-slate-100"></tbody>
                        </table>
                        <div id="empty-state" class="hidden p-12 text-center text-slate-400 italic">
                            Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ·Î¼Î­Î½ÎµÏ‚ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Î Î»ÎµÏ…ÏÎ¹ÎºÎ® Î£Ï„Î®Î»Î· -->
            <div class="space-y-6 no-print">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-5">
                    <h2 class="text-sm font-bold mb-4 flex items-center gap-2 text-blue-700 uppercase tracking-wider">
                        <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>
                        Î ÏÎ¿ÏƒÎµÏ‡ÎµÎ¯Ï‚ Î‘Ï†Î¯Î¾ÎµÎ¹Ï‚
                    </h2>
                    <div id="arrivals-list" class="space-y-3 max-h-[250px] overflow-y-auto pr-2 custom-scroll"></div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-5">
                    <h2 class="text-sm font-bold mb-4 flex items-center gap-2 text-rose-700 uppercase tracking-wider">
                        <span class="w-1.5 h-4 bg-rose-600 rounded-full"></span>
                        Î ÏÎ¿ÏƒÎµÏ‡ÎµÎ¯Ï‚ Î‘Î½Î±Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚
                    </h2>
                    <p class="text-[10px] text-slate-400 mb-3 -mt-3 italic">Î•Î¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ Î¼ÏŒÎ½Î¿ ÏŒÏƒÎ¿Î¹ Î­Ï‡Î¿Ï…Î½ Î®Î´Î· Î±Ï†Î¹Ï‡Î¸ÎµÎ¯</p>
                    <div id="departures-list" class="space-y-3 max-h-[250px] overflow-y-auto pr-2 custom-scroll"></div>
                </div>
            </div>
        </div>

        <!-- Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ· -->
        <div class="mt-4 print-only">
            <h2 class="text-xl font-bold text-slate-800 mb-6 border-b border-slate-300 pb-2 uppercase tracking-wide">ÎšÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ ÎšÏÎ±Ï„Î®ÏƒÎµÏ‰Î½</h2>
            <table class="w-full text-left border-collapse border border-slate-300">
                <thead>
                    <tr class="bg-slate-50 text-slate-700">
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider">Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„Î·Ï‚</th>
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider">Î—Î¼. Î†Ï†Î¹Î¾Î·Ï‚</th>
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider">Î—Î¼. Î‘Î½Î±Ï‡ÏÏÎ·ÏƒÎ·Ï‚</th>
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider text-center">Î†Ï„Î¿Î¼Î±</th>
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider">Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</th>
                        <th class="p-4 border border-slate-300 font-bold text-xs uppercase tracking-wider text-right">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ Î Î¿ÏƒÏŒ</th>
                    </tr>
                </thead>
                <tbody id="print-bookings-table"></tbody>
            </table>
            
            <div class="mt-8 grid grid-cols-2 gap-8 border-t-2 border-slate-800 pt-6">
                <div>
                    <p class="text-sm text-slate-600">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒÏ‚ Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ ÎºÏÎ±Ï„Î®ÏƒÎµÏ‰Î½: <span id="print-total-count" class="font-bold">0</span></p>
                    <p class="text-sm text-slate-600">Î£Ï…Î½Î¿Î»Î¹ÎºÎ­Ï‚ Î´Î¹Î±Î½Ï…ÎºÏ„ÎµÏÎµÏÏƒÎµÎ¹Ï‚: <span id="print-total-nights" class="font-bold">0</span></p>
                </div>
                <div class="text-right">
                    <p class="text-2xl font-black text-slate-900">Î“Î•ÎÎ™ÎšÎŸ Î£Î¥ÎÎŸÎ›ÎŸ: <span id="print-total-revenue">â‚¬0</span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ÎšÏÎ¬Ï„Î·ÏƒÎ·Ï‚ -->
    <div id="booking-modal" class="fixed inset-0 bg-slate-900/60 hidden items-center justify-center p-4 z-50 backdrop-blur-sm no-print">
        <div class="bg-white rounded-3xl w-full max-w-xl p-8 md:p-10 shadow-2xl modal-animate overflow-y-auto max-h-[95vh]">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-black text-slate-800">ÎÎ­Î± ÎšÏÎ¬Ï„Î·ÏƒÎ·</h2>
                    <p class="text-slate-500 text-sm mt-1">Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± Î´Î¹Î±Î¼Î¿Î½Î®Ï‚ ÎºÎ±Î¹ Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚</p>
                </div>
                <button onclick="toggleModal(false)" class="bg-slate-100 hover:bg-slate-200 text-slate-500 p-2 rounded-full transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            
            <form id="booking-form" onsubmit="saveBooking(event)">
                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-tight">ÎŸÎ½Î¿Î¼Î±Ï„ÎµÏ€ÏÎ½Ï…Î¼Î¿ Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„Î·</label>
                            <input type="text" id="guest-name" placeholder="Ï€.Ï‡. Î“Î¹Î¬Î½Î½Î·Ï‚ Î Î±Ï€Î±Î´ÏŒÏ€Î¿Ï…Î»Î¿Ï‚" required class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition text-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-tight">Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„ÎµÏ‚</label>
                            <input type="number" id="guest-count" value="1" min="1" oninput="calculateTotal()" required class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:border-blue-500 outline-none transition text-lg text-center">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-tight">Î†Ï†Î¹Î¾Î·</label>
                            <input type="text" id="check-in" placeholder="Î—Î—/ÎœÎœ/Î•Î•Î•Î•" required class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:border-blue-500 outline-none transition text-lg cursor-pointer">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-tight">Î‘Î½Î±Ï‡ÏÏÎ·ÏƒÎ·</label>
                            <input type="text" id="check-out" placeholder="Î—Î—/ÎœÎœ/Î•Î•Î•Î•" required class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:border-blue-500 outline-none transition text-lg cursor-pointer">
                        </div>
                    </div>

                    <div class="bg-blue-50/50 p-4 rounded-2xl border border-blue-100 flex justify-between items-center">
                        <span class="text-sm font-bold text-blue-800 uppercase">Î£ÏÎ½Î¿Î»Î¿ Î”Î¹Î±Î½Ï…ÎºÏ„ÎµÏÎµÏÏƒÎµÏ‰Î½:</span>
                        <span id="nights-count-display" class="text-xl font-black text-blue-600">0</span>
                    </div>

                    <div class="bg-slate-50 p-6 rounded-3xl border border-slate-200 space-y-4">
                        <h4 class="text-xs font-black text-slate-400 uppercase tracking-widest">Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-slate-600 mb-1 uppercase">Î’Î±ÏƒÎ¹ÎºÎ® Î¤Î¹Î¼Î® / Î½ÏÏ‡Ï„Î±</label>
                                <div class="relative">
                                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">â‚¬</span>
                                    <input type="number" id="base-price" value="110" step="0.01" oninput="calculateTotal()" class="w-full bg-white border border-slate-200 rounded-xl pl-8 pr-4 py-3 focus:border-blue-500 outline-none transition">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-600 mb-1 uppercase">ÎšÎ±Î»ÏÏ€Ï„ÎµÎ¹ Î­Ï‰Ï‚ (Î¬Ï„Î¿Î¼Î±)</label>
                                <input type="number" id="base-guest-limit" value="2" min="1" oninput="calculateTotal()" class="w-full bg-white border border-slate-200 rounded-xl px-4 py-3 focus:border-blue-500 outline-none transition">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-600 mb-1 uppercase">Î•Ï€Î¹Ï€Î»Î­Î¿Î½ Î§ÏÎ­Ï‰ÏƒÎ· Î±Î½Î¬ Î¬Ï„Î¿Î¼Î¿</label>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">â‚¬</span>
                                <input type="number" id="extra-guest-fee" value="10" step="0.01" oninput="calculateTotal()" class="w-full bg-white border border-slate-200 rounded-xl pl-8 pr-4 py-3 focus:border-blue-500 outline-none transition">
                            </div>
                        </div>

                        <div class="pt-2 border-t border-slate-200">
                            <label class="block text-xs font-bold text-slate-600 mb-1 uppercase tracking-wider">ÎˆÎºÏ€Ï„Ï‰ÏƒÎ·</label>
                            <div class="flex gap-2">
                                <div class="relative flex-1">
                                    <input type="number" id="discount-value" value="0" step="0.01" oninput="calculateTotal()" class="w-full bg-white border border-slate-200 rounded-xl px-4 py-3 focus:border-blue-500 outline-none transition">
                                </div>
                                <select id="discount-type" onchange="calculateTotal()" class="bg-white border border-slate-200 rounded-xl px-3 py-3 font-bold text-slate-600 outline-none focus:border-blue-500">
                                    <option value="percent">%</option>
                                    <option value="fixed">â‚¬</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="pt-2">
                        <div class="flex justify-between items-end mb-1">
                             <label class="block text-sm font-bold text-slate-700 uppercase tracking-tight">Î¤ÎµÎ»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚</label>
                             <span id="original-price-display" class="text-xs text-slate-400 line-through font-medium hidden">â‚¬0.00</span>
                        </div>
                        <div class="relative">
                            <span class="absolute left-5 top-1/2 -translate-y-1/2 text-blue-600 font-bold">â‚¬</span>
                            <input type="number" id="total-price" placeholder="0.00" step="0.01" required class="w-full bg-blue-50/50 border-2 border-blue-200 rounded-2xl pl-10 pr-5 py-5 focus:bg-white focus:border-blue-500 outline-none transition text-2xl font-black text-blue-700">
                        </div>
                        <p id="calculation-breakdown" class="text-slate-400 text-[11px] mt-2 italic px-2"></p>
                    </div>

                    <!-- Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ Ï„Î­Î»Î¿Ï‚ -->
                    <div class="pt-2">
                        <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-tight">Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ ÎšÏÎ¬Ï„Î·ÏƒÎ·Ï‚</label>
                        <textarea id="booking-notes" rows="2" placeholder="Ï€.Ï‡. Î•Ï€Î¹Ï€Î»Î­Î¿Î½ Ï€ÎµÏ„ÏƒÎ­Ï„ÎµÏ‚, ÎºÎ±Î¸Ï…ÏƒÏ„ÎµÏÎ·Î¼Î­Î½Î· Î¬Ï†Î¹Î¾Î·, ÎºÎ»Ï€." class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:border-blue-500 outline-none transition text-sm"></textarea>
                    </div>
                </div>
                
                <div class="mt-8 flex flex-col md:flex-row gap-4">
                    <button type="button" onclick="toggleModal(false)" class="order-2 md:order-1 flex-1 px-6 py-4 border-2 border-slate-100 rounded-2xl text-slate-500 font-bold hover:bg-slate-50 transition">Î‘ÎºÏÏÏ‰ÏƒÎ·</button>
                    <button type="submit" class="order-1 md:order-2 flex-[2] px-6 py-4 bg-blue-600 text-white rounded-2xl font-bold text-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition">Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÏ‰Î½ -->
    <div id="edit-notes-modal" class="fixed inset-0 bg-slate-900/60 hidden items-center justify-center p-4 z-50 backdrop-blur-sm no-print">
        <div class="bg-white rounded-3xl w-full max-w-lg p-8 md:p-10 shadow-2xl modal-animate">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 class="text-2xl font-black text-slate-800">Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÏ‰Î½</h2>
                    <p id="edit-notes-guest" class="text-slate-500 text-sm mt-1">Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„Î·Ï‚: ...</p>
                </div>
                <button onclick="toggleNotesModal(false)" class="bg-slate-100 hover:bg-slate-200 text-slate-500 p-2 rounded-full transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            
            <input type="hidden" id="edit-notes-id">
            <div class="space-y-4">
                <label class="block text-sm font-bold text-slate-700 uppercase tracking-tight">ÎšÎµÎ¯Î¼ÎµÎ½Î¿ Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÏ‰Î½</label>
                <textarea id="edit-notes-textarea" rows="8" class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition text-base" placeholder="Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Î® Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¹Ï‚ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ ÎµÎ´Ï..."></textarea>
            </div>
            
            <div class="mt-8 flex gap-3">
                <button onclick="toggleNotesModal(false)" class="flex-1 px-6 py-4 border-2 border-slate-100 rounded-2xl text-slate-500 font-bold hover:bg-slate-50 transition">Î‘ÎºÏÏÏ‰ÏƒÎ·</button>
                <button onclick="saveUpdatedNotes()" class="flex-[2] px-6 py-4 bg-blue-600 text-white rounded-2xl font-bold text-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition">Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ·</button>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let bookings = JSON.parse(localStorage.getItem('vacation_bookings_v2')) || [];
        const monthNames = ["Î™Î±Î½Î¿Ï…Î¬ÏÎ¹Î¿Ï‚", "Î¦ÎµÎ²ÏÎ¿Ï…Î¬ÏÎ¹Î¿Ï‚", "ÎœÎ¬ÏÏ„Î¹Î¿Ï‚", "Î‘Ï€ÏÎ¯Î»Î¹Î¿Ï‚", "ÎœÎ¬Î¹Î¿Ï‚", "Î™Î¿ÏÎ½Î¹Î¿Ï‚", "Î™Î¿ÏÎ»Î¹Î¿Ï‚", "Î‘ÏÎ³Î¿Ï…ÏƒÏ„Î¿Ï‚", "Î£ÎµÏ€Ï„Î­Î¼Î²ÏÎ¹Î¿Ï‚", "ÎŸÎºÏ„ÏÎ²ÏÎ¹Î¿Ï‚", "ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï‚", "Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï‚"];

        let fpIn, fpOut;

        function initDatePickers() {
            fpIn = flatpickr("#check-in", {
                dateFormat: "d/m/Y",
                locale: "gr",
                allowInput: true,
                onChange: function(selectedDates) {
                    if(selectedDates[0]) {
                        fpOut.set('minDate', selectedDates[0]);
                        calculateTotal();
                    }
                }
            });

            fpOut = flatpickr("#check-out", {
                dateFormat: "d/m/Y",
                locale: "gr",
                allowInput: true,
                onChange: function() {
                    calculateTotal();
                }
            });
        }

        function calculateTotal() {
            const dateIn = fpIn.selectedDates[0];
            const dateOut = fpOut.selectedDates[0];
            const guestCount = parseInt(document.getElementById('guest-count').value) || 1;
            const basePrice = parseFloat(document.getElementById('base-price').value) || 110;
            const baseLimit = parseInt(document.getElementById('base-guest-limit').value) || 1;
            const extraFee = parseFloat(document.getElementById('extra-guest-fee').value) || 0;
            const discountValue = parseFloat(document.getElementById('discount-value').value) || 0;
            const discountType = document.getElementById('discount-type').value;
            
            const nightsDisplay = document.getElementById('nights-count-display');
            const totalPriceInput = document.getElementById('total-price');
            const originalPriceDisplay = document.getElementById('original-price-display');
            const breakdown = document.getElementById('calculation-breakdown');

            if (dateIn && dateOut) {
                const diffTime = Math.abs(dateOut - dateIn);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                nightsDisplay.textContent = diffDays;
                
                if (diffDays > 0) {
                    const extraGuests = Math.max(0, guestCount - baseLimit);
                    const nightlyRate = basePrice + (extraGuests * extraFee);
                    const subtotal = diffDays * nightlyRate;
                    
                    let discountAmount = 0;
                    if (discountType === 'percent') {
                        discountAmount = subtotal * (discountValue / 100);
                    } else {
                        discountAmount = discountValue;
                    }

                    const finalTotal = Math.max(0, subtotal - discountAmount);
                    totalPriceInput.value = finalTotal.toFixed(2);
                    
                    if (discountValue > 0) {
                        originalPriceDisplay.textContent = `â‚¬${subtotal.toFixed(2)}`;
                        originalPriceDisplay.classList.remove('hidden');
                    } else {
                        originalPriceDisplay.classList.add('hidden');
                    }

                    let text = `Î‘Î½Î¬Î»Ï…ÏƒÎ·: ${diffDays} Î½ÏÏ‡Ï„ÎµÏ‚ Ã— [â‚¬${basePrice}`;
                    if (extraGuests > 0) text += ` + ${extraGuests} Î¬Ï„Î¿Î¼Î± Ã— â‚¬${extraFee}`;
                    text += `] = â‚¬${subtotal.toFixed(2)}`;
                    if (discountValue > 0) text += ` (-â‚¬${discountAmount.toFixed(2)} Î­ÎºÏ€Ï„Ï‰ÏƒÎ·)`;
                    breakdown.textContent = text;
                }
            } else {
                nightsDisplay.textContent = "0";
                totalPriceInput.value = "";
                breakdown.textContent = "";
                originalPriceDisplay.classList.add('hidden');
            }
        }

        function toISODate(dmy) {
            if(!dmy) return null;
            const parts = dmy.split('/');
            return `${parts[2]}-${parts[1]}-${parts[0]}`;
        }

        function formatDateForDisplay(dateStr) {
            if (!dateStr) return '';
            const [year, month, day] = dateStr.split('-');
            return `${day}/${month}/${year}`;
        }

        function toggleModal(show) {
            const modal = document.getElementById('booking-modal');
            modal.style.display = show ? 'flex' : 'none';
            if(!show) {
                document.getElementById('booking-form').reset();
                document.getElementById('base-price').value = 110;
                document.getElementById('calculation-breakdown').textContent = "";
            }
        }

        // --- Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Modal Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÏ‰Î½ ---
        function toggleNotesModal(show) {
            document.getElementById('edit-notes-modal').style.display = show ? 'flex' : 'none';
        }

        function openEditNotes(id) {
            const booking = bookings.find(b => b.id === id);
            if(!booking) return;
            
            document.getElementById('edit-notes-id').value = id;
            document.getElementById('edit-notes-guest').textContent = `Î•Ï€Î¹ÏƒÎºÎ­Ï€Ï„Î·Ï‚: ${booking.guestName}`;
            document.getElementById('edit-notes-textarea').value = booking.notes || "";
            toggleNotesModal(true);
        }

        function saveUpdatedNotes() {
            const id = parseInt(document.getElementById('edit-notes-id').value);
            const newNotes = document.getElementById('edit-notes-textarea').value;
            
            const index = bookings.findIndex(b => b.id === id);
            if (index !== -1) {
                bookings[index].notes = newNotes;
                localStorage.setItem('vacation_bookings_v2', JSON.stringify(bookings));
                toggleNotesModal(false);
                renderApp();
            }
        }
        // -----------------------------------

        function isDateAvailable(newCheckIn, newCheckOut) {
            const start = new Date(newCheckIn);
            const end = new Date(newCheckOut);
            return !bookings.some(b => {
                const bStart = new Date(b.checkIn);
                const bEnd = new Date(b.checkOut);
                return start < bEnd && end > bStart;
            });
        }

        function saveBooking(e) {
            e.preventDefault();
            const isoIn = toISODate(document.getElementById('check-in').value);
            const isoOut = toISODate(document.getElementById('check-out').value);

            if (!isDateAvailable(isoIn, isoOut)) {
                const errorMsg = document.createElement('div');
                errorMsg.className = "fixed top-5 left-1/2 -translate-x-1/2 bg-rose-600 text-white px-6 py-3 rounded-xl shadow-2xl z-[100] font-bold animate-bounce text-center";
                errorMsg.textContent = "âš ï¸ ÎŸÎ¹ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚ ÎµÏ€Î¹ÎºÎ±Î»ÏÏ€Ï„Î¿Î½Ï„Î±Î¹ Î¼Îµ Î¬Î»Î»Î· ÎºÏÎ¬Ï„Î·ÏƒÎ·!";
                document.body.appendChild(errorMsg);
                setTimeout(() => errorMsg.remove(), 3000);
                return;
            }

            bookings.push({
                id: Date.now(),
                guestName: document.getElementById('guest-name').value,
                guestCount: document.getElementById('guest-count').value || 1,
                checkIn: isoIn,
                checkOut: isoOut,
                notes: document.getElementById('booking-notes').value || "",
                price: parseFloat(document.getElementById('total-price').value)
            });

            localStorage.setItem('vacation_bookings_v2', JSON.stringify(bookings));
            toggleModal(false);
            renderApp();
        }

        function deleteBooking(id) {
            const confirmBox = document.createElement('div');
            confirmBox.className = "fixed inset-0 bg-black/50 flex items-center justify-center z-[100] backdrop-blur-sm";
            confirmBox.innerHTML = `
                <div class="bg-white p-8 rounded-2xl shadow-2xl max-w-sm w-full mx-4">
                    <h3 class="text-xl font-bold text-slate-800 mb-2">Î”Î¹Î±Î³ÏÎ±Ï†Î®;</h3>
                    <p class="text-slate-500 mb-6 text-sm">Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹; Î— ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î´ÎµÎ½ Î±Î½Î±Î¹ÏÎµÎ¯Ï„Î±Î¹.</p>
                    <div class="flex gap-3">
                        <button id="cancel-del" class="flex-1 py-3 bg-slate-100 rounded-xl font-bold text-slate-600">ÎŒÏ‡Î¹</button>
                        <button id="confirm-del" class="flex-1 py-3 bg-rose-600 text-white rounded-xl font-bold">ÎÎ±Î¹</button>
                    </div>
                </div>
            `;
            document.body.appendChild(confirmBox);

            document.getElementById('cancel-del').onclick = () => confirmBox.remove();
            document.getElementById('confirm-del').onclick = () => {
                bookings = bookings.filter(b => b.id !== id);
                localStorage.setItem('vacation_bookings_v2', JSON.stringify(bookings));
                confirmBox.remove();
                renderApp();
            };
        }

        function updateStats() {
            const totalRevenue = bookings.reduce((sum, b) => sum + b.price, 0);
            const totalNights = bookings.reduce((sum, b) => {
                const diff = new Date(b.checkOut) - new Date(b.checkIn);
                return sum + Math.max(1, Math.ceil(diff / 86400000));
            }, 0);
            const avgPrice = totalNights > 0 ? (totalRevenue / totalNights).toFixed(2) : 0;

            document.getElementById('stat-revenue').textContent = `â‚¬${totalRevenue.toLocaleString()}`;
            document.getElementById('stat-count').textContent = bookings.length;
            document.getElementById('stat-nights').textContent = totalNights;
            document.getElementById('stat-avg').textContent = `â‚¬${avgPrice}`;
            
            document.getElementById('print-total-revenue').textContent = `â‚¬${totalRevenue.toLocaleString()}`;
            document.getElementById('print-total-count').textContent = bookings.length;
            document.getElementById('print-total-nights').textContent = totalNights;
            document.getElementById('print-date').textContent = new Date().toLocaleDateString('el-GR');
        }

        function renderManagementList() {
            const tableBody = document.getElementById('management-table-body');
            const emptyState = document.getElementById('empty-state');
            
            if (bookings.length === 0) {
                tableBody.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');
            const sortedBookings = [...bookings].sort((a, b) => new Date(a.checkIn) - new Date(b.checkIn));
            
            tableBody.innerHTML = sortedBookings.map(b => `
                <tr class="hover:bg-slate-50/50 transition-colors group">
                    <td class="px-6 py-4">
                        <div class="flex flex-col">
                            <div class="font-bold text-slate-800">${b.guestName}</div>
                            <div class="flex items-center gap-2 mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-slate-400"><path d="M15.5 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"/><path d="M15 3v6h6"/></svg>
                                <span class="text-[11px] text-slate-400 truncate max-w-[140px] italic">${b.notes || 'ÎšÎ±Î¼Î¯Î± ÏƒÎ·Î¼ÎµÎ¯Ï‰ÏƒÎ·'}</span>
                                <button onclick="openEditNotes(${b.id})" class="text-[10px] text-blue-500 hover:text-blue-700 font-bold uppercase tracking-wider md:opacity-0 group-hover:opacity-100 transition-opacity">Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±</button>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4">
                        <div class="flex flex-col">
                            <span class="text-xs font-semibold text-slate-600">${formatDateForDisplay(b.checkIn)} â€“ ${formatDateForDisplay(b.checkOut)}</span>
                            <span class="text-[10px] text-slate-400">
                                ${Math.ceil((new Date(b.checkOut) - new Date(b.checkIn)) / 86400000)} Î½ÏÏ‡Ï„ÎµÏ‚
                            </span>
                        </div>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="bg-slate-100 text-slate-600 text-[10px] font-bold px-2 py-1 rounded-full">ğŸ‘¤ ${b.guestCount}</span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <span class="font-bold text-blue-600">â‚¬${b.price.toFixed(2)}</span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button onclick="deleteBooking(${b.id})" class="p-2 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all md:opacity-0 group-hover:opacity-100">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function renderLists() {
            const arrivalsContainer = document.getElementById('arrivals-list');
            const departuresContainer = document.getElementById('departures-list');
            const printTable = document.getElementById('print-bookings-table');
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            const arrivals = [...bookings]
                .filter(b => new Date(b.checkIn) >= today)
                .sort((a, b) => new Date(a.checkIn) - new Date(b.checkIn));

            arrivalsContainer.innerHTML = arrivals.map(b => `
                <div class="p-3 bg-blue-50/40 border border-blue-100 rounded-xl">
                    <div class="flex justify-between items-start">
                        <h4 class="font-bold text-slate-800 text-xs truncate pr-2">${b.guestName}</h4>
                        ${b.notes ? '<span class="w-1.5 h-1.5 rounded-full bg-blue-500 mt-1" title="ÎˆÏ‡ÎµÎ¹ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚"></span>' : ''}
                    </div>
                    <div class="flex justify-between items-center mt-1">
                         <p class="text-[10px] text-blue-600 font-bold">${formatDateForDisplay(b.checkIn)}</p>
                         <span class="text-[10px] font-bold text-slate-500">â‚¬${b.price.toFixed(0)}</span>
                    </div>
                </div>
            `).join('') || '<div class="text-center py-4 text-slate-400 italic text-xs">ÎšÎ±Î¼Î¯Î± Î¬Ï†Î¹Î¾Î·</div>';

            const departures = [...bookings]
                .filter(b => {
                    const checkInDate = new Date(b.checkIn);
                    const checkOutDate = new Date(b.checkOut);
                    return checkInDate <= today && checkOutDate >= today;
                })
                .sort((a, b) => new Date(a.checkOut) - new Date(b.checkOut));

            departuresContainer.innerHTML = departures.map(b => `
                <div class="p-3 bg-rose-50/40 border border-rose-100 rounded-xl">
                    <h4 class="font-bold text-slate-800 text-xs truncate">${b.guestName}</h4>
                    <div class="flex justify-between items-center mt-1">
                         <p class="text-[10px] text-rose-600 font-bold">${formatDateForDisplay(b.checkOut)}</p>
                         <span class="text-[10px] font-bold text-slate-500">ğŸ‘¤ ${b.guestCount} Î¬Ï„Î¿Î¼Î±</span>
                    </div>
                </div>
            `).join('') || '<div class="text-center py-4 text-slate-400 italic text-xs">ÎšÎ±Î¼Î¯Î± Î±Î½Î±Ï‡ÏÏÎ·ÏƒÎ·</div>';

            const allSorted = [...bookings].sort((a, b) => new Date(a.checkIn) - new Date(b.checkIn));
            printTable.innerHTML = allSorted.map(b => `
                <tr>
                    <td class="p-4 text-sm font-bold text-slate-800">${b.guestName}</td>
                    <td class="p-4 text-sm">${formatDateForDisplay(b.checkIn)}</td>
                    <td class="p-4 text-sm">${formatDateForDisplay(b.checkOut)}</td>
                    <td class="p-4 text-sm text-center">${b.guestCount}</td>
                    <td class="p-4 text-xs italic text-slate-500 max-w-[200px]">${b.notes || '-'}</td>
                    <td class="p-4 text-sm font-black text-right">â‚¬${b.price.toFixed(2)}</td>
                </tr>
            `).join('') || '<tr><td colspan="6" class="p-4 text-center">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚.</td></tr>';
        }

        function renderCalendar() {
            const calendarBody = document.getElementById('calendar-body');
            const monthDisplay = document.getElementById('current-month-display');
            if(!calendarBody) return;
            
            calendarBody.innerHTML = '';
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            monthDisplay.textContent = `${monthNames[month]} ${year}`;

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const todayStr = new Date().toISOString().split('T')[0];

            for (let i = 0; i < (firstDay === 0 ? 6 : firstDay - 1); i++) {
                calendarBody.innerHTML += `<div class="day-cell bg-slate-50/50"></div>`;
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isToday = dateStr === todayStr;
                const booking = bookings.find(b => dateStr >= b.checkIn && dateStr < b.checkOut);
                const isCheckIn = bookings.some(b => b.checkIn === dateStr);
                const isCheckOut = bookings.some(b => b.checkOut === dateStr);
                
                let classes = isToday ? 'today ' : '';
                if(booking) classes += 'booked ';
                if(isCheckIn) classes += 'check-in-today ';
                if(isCheckOut) classes += 'check-out-today ';

                calendarBody.innerHTML += `
                    <div class="day-cell ${classes} p-2 flex flex-col">
                        <span class="text-xs font-semibold ${isToday ? 'text-blue-600' : 'text-slate-400'}">${day}</span>
                        ${booking ? `
                            <div class="text-[9px] font-bold text-green-700 truncate mt-1 leading-tight">${booking.guestName}</div>
                        ` : ''}
                    </div>
                `;
            }
        }

        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderApp();
        }

        function renderApp() {
            renderCalendar();
            renderLists();
            renderManagementList();
            updateStats();
        }

        window.onload = function() {
            initDatePickers();
            renderApp();
        };
    </script>
</body>
</html>